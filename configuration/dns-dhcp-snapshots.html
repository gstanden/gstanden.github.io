<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="https://www.google.com/images/icons/product/sites-16.ico" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/documentation/configuration","deleted":false,"title":"Configuration","dir":"ltr"},{"path":"/a/orabuntu-lxc.com/documentation/configuration/dns-dhcp-snapshots","deleted":false,"title":"DNS-DHCP Snapshots","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":false,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://357045629-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"Orabuntu-LXC","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/documentation/configuration/dns-dhcp-snapshots\u0026service\u003djotspot","analyticsAccountId":"","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/documentation/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/documentation/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/documentation","name":"documentation","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/configuration","parentWuid":"wuid:gx:5630b829b6bfecea","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"DNS-DHCP Snapshots","locale":"en","wuid":"wuid:gx:5607af4874380d29","revision":4,"path":"/configuration/dns-dhcp-snapshots","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"dns-dhcp-snapshots","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/documentation/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="DNS-DHCP Snapshots - Orabuntu-LXC" />
<meta itemprop="name" content="DNS-DHCP Snapshots - Orabuntu-LXC" />
<meta property="og:title" content="DNS-DHCP Snapshots - Orabuntu-LXC" />
<meta name="description" content="Orabuntu-LXC Documentation" />
<meta itemprop="description" content="Orabuntu-LXC Documentation" />
<meta id="meta-tag-description" property="og:description" content="Orabuntu-LXC Documentation" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive300goog-ws-leftnone30themedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/documentation/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>DNS-DHCP Snapshots - Orabuntu-LXC</title>
<meta itemprop="image" content="https://admin.googleusercontent.com/logo-scs-key2931893" />
<meta property="og:image" content="https://admin.googleusercontent.com/logo-scs-key2931893" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner"><div class="sites-header-cell-buffer-wrapper"><a href="../index.html" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="https://admin.googleusercontent.com/logo-scs-key2931893" alt="Orabuntu-LXC" class="sites-logo  sites-domain-logo" /></a><h2></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/documentation/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:300px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first "><div dir="ltr" style="padding-left: 19px;"><a href="../home.html" jotId="wuid:gx:5f987130712a7e4c" class="sites-navigation-link topLevel">Home</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../administration.html" jotId="wuid:gx:6fb8050391c3c355" class="sites-navigation-link topLevel">Administration</a></div></li><li class="topLevel parent " wuid="gx:5630b829b6bfecea"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../configuration.html" jotId="wuid:gx:5630b829b6bfecea" class="sites-navigation-link topLevel">Configuration</a></div><ul role="navigation" class="has-expander"><li class=""><div class="current-bg" jotId="wuid:gx:5607af4874380d29" dir="ltr" style="padding-left: 38px;">DNS-DHCP Snapshots</div></li></ul></li><li class="topLevel parent " wuid="gx:abaa3ec982bcdf4"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../github-operations.html" jotId="wuid:gx:abaa3ec982bcdf4" class="sites-navigation-link topLevel">GitHub Operations</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../github-operations/updating-master-branch.html" jotId="wuid:gx:46b01a4aa24303e2" class="sites-navigation-link">Updating Master Branch</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../github-operations/updating-to-lxd-branch.html" jotId="wuid:gx:4130fbc719f2c8" class="sites-navigation-link">Updating To-LXD Branch</a></div></li></ul></li><li class="topLevel parent " wuid="gx:1f65d65d626bdf7d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../installation.html" jotId="wuid:gx:1f65d65d626bdf7d" class="sites-navigation-link topLevel">Installation</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../installation/logging.html" jotId="wuid:gx:73f2d1a32d1cfb15" class="sites-navigation-link">Logging</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../lxd.html" jotId="wuid:gx:1eb8382f9ff943f1" class="sites-navigation-link topLevel">LXD</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../modification.html" jotId="wuid:gx:762de0074052c904" class="sites-navigation-link topLevel">Modification</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../network-configuration.html" jotId="wuid:gx:68f4da5881bde23f" class="sites-navigation-link topLevel">Network Configuration</a></div></li><li class="topLevel parent " wuid="gx:b1a5887c4e2fdcf"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../products.html" jotId="wuid:gx:b1a5887c4e2fdcf" class="sites-navigation-link topLevel">Products</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../products/oracle-gi-18c.html" jotId="wuid:gx:47ec11b74cd5f49a" class="sites-navigation-link">Oracle GI 18c</a></div></li></ul></li><li class="topLevel parent " wuid="gx:677919ed66ba69f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../quick-start.html" jotId="wuid:gx:677919ed66ba69f8" class="sites-navigation-link topLevel">Quick Start</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../quick-start/orabuntu-lxc-v6-0-0-beta-amide.html" jotId="wuid:gx:23ff83593c569714" class="sites-navigation-link">Orabuntu-LXC v6.0.0-beta AMIDE</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../quick-start/orabuntu-lxc-v7-0-0-beta-amide.html" jotId="wuid:gx:31314032a022a1e0" class="sites-navigation-link">Orabuntu-LXC v7.0.0-beta AMIDE</a></div></li></ul></li><li class="topLevel parent " wuid="gx:37e57af40498cab6"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../software-configuration.html" jotId="wuid:gx:37e57af40498cab6" class="sites-navigation-link topLevel">Software Configuration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../software-configuration/tar-archives-creation.html" jotId="wuid:gx:4b99b6ca3c85e918" class="sites-navigation-link">Tar Archives Creation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../software-configuration/tar-archives-modification.html" jotId="wuid:gx:512717e947b8a2bb" class="sites-navigation-link">Tar Archives Modification</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../user.html" jotId="wuid:gx:565ed1e9578b9cf" class="sites-navigation-link topLevel">User</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:4de1871ba2970ec2" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../configuration.html" dir="ltr">Configuration</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">DNS-DHCP Snapshots</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div>Sometimes it is useful, expedient, or desirable to be able to roll 
back the entire DNS-DHCP LXC container to an earlier state.  This is 
very useful for example when a VM has been deployed on an Orabuntu-LXC 
physical host, and then Orabuntu-LXC was deployed in the VM also, and 
then some subsequent testing and development was done, and now it is 
desired to update the code and retry the operations.  Because the 
containers have DNS records in the zone files of the containerized 
DNS-DHCP, simply restoring a snapshot of the VM will NOT get the system 
back to the starting state before the operations, because the zone file 
DNS records still exist in the containerized DNS-DHCP that runs on the 
physical LXC host.</div><div><br /></div><div>Therefore, for this and 
other scenarios, Orabuntu-LXC introduced a snapshot facility for rolling
 back the DNS-DHCP to an earlier state, for example before any 
containers were created on an Orabuntu-LXC VM.  Orabuntu-LXC takes an 
lxc-snapshot automatically of the primary LXC containerized DNS-DHCP 
early in it's installation steps, before the LXC containerized DNS-DHCP 
is touched, so that the LXC containerized DNS-DHCP can be rolled back to
 pre-install configuration. <br /></div><div><br /></div><div>A listing of 
an LXC snapshots of an Orabuntu-LXC containerized DNS-DHCP which is 
supporting LXC containers installed on the Orabuntu-LXC physical host, 
and a few VM's that get their IP address and DNS services from the same 
containerized DNS-DHCP is shown below.</div><div><br /></div><div class="sites-codeblock sites-codesnippet-block"><div><code>ubuntu@ubuntu-ThinkPad-P72:~/Downloads/orabuntu-lxc-6.11.4-beta/products$ <b>sudo lxc-snapshot -n afns1 -L -C</b></code></div><div><br /></div><div><code>snap2 (/var/lib/lxc/afns1/snaps) 2019:04:08 13:29:09</code><br /><code>ubuntu1810A pre-install nameserver snapshot</code><br /><code>snap1 (/var/lib/lxc/afns1/snaps) 2019:04:07 21:57:04</code><br /><code>oracle76.urdomain1.com pre-install nameserver snapshot</code><br /><code>snap0 (/var/lib/lxc/afns1/snaps) 2019:03:30 09:53:50</code><br /><code>hub nameserver post-install snapshot</code><br /><code>snap4 (/var/lib/lxc/afns1/snaps) 2019:04:12 14:35:54</code><br /><code>ubuntu1810B pre-install nameserver snapshot</code><br /><code>snap3 (/var/lib/lxc/afns1/snaps) 2019:04:11 11:11:54</code><br /><code>ubuntu1810B pre-install nameserver snapshot</code></div><div><br /></div><div><code>ubuntu@ubuntu-ThinkPad-P72:~/Downloads/orabuntu-lxc-6.11.4-beta/products$ </code></div></div><br /><div>The various snaps are described below.</div><ul><li>snap0 Orabuntu-LXC post-install lxc-snapshot taken just after the  Orabuntu-LXC containerized DNS-DHCP was created</li><li>snap1 Orabuntu-LXC pre-install lxc-snapshot taken of Oracle Linux 7.6 VM (oracle76) VM running on the Orabuntu-LXC physical host</li><li>snap2
 Orabuntu-LXC pre-install lxc-snapshot taken of Ubuntu Linux 18.10 
(ubuntu1810A) VM running on the Orabuntu-LXC physical host</li><li>snap3
 Orabuntu-LXC pre-install lxc-snapshot taken of Ubuntu Linux 18.10 
(ubuntu1810B) VM running on the Orabuntu-LXC physical host</li><li>snap4
 Orabuntu-LXC pre-install lxc-snapshot taken of Ubuntu Linux 18.10 
(ubuntu1810B) VM running on the Orabuntu-LXC physical host</li></ul><div>There
 are two snaps (snap3, and snap4) for Ubuntu 1810B VM, because the 
developer wanted to retest, so the VM was restored to a pre-install 
snapshot, and so there are multiple snaps (3 and 4) of that VM because 
the Orabuntu-LXC install was run twice on that VM.  These duplicate 
snapshots of re-runs on a specific VM can be manually pruned back as 
needed.</div><div><br /></div><div>Once, for example, the VM has been 
restored to the earlier pre-install snapshot, then before doing the 
Orabuntu-LXC install again, run the following steps.  On an Ubuntu Linux
 host, those steps are are shown below.</div><div><br /></div><div>NOTE:  It is sometimes necessary to stop and start the LXC DNS DHCP container TWICE before the desired state is returned.  Use nslookup to verify that only the desired prior-state lookups are returning values.<br /></div><div><br /></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div></div><code>sudo lxc-stop -n afns1</code><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><code>Stop LXC containerized DNS-DHCP</code><br /><code>sudo lxc-snapshot -n afns1 -L -C</code><span><code>    </code></span><span><code>    </code></span><span><code>  List available snapshots</code></span><br /><code>sudo lxc-snapshot -n afns1 -r snap3</code><span><code>    </code></span><span><code>   Restore snapshot snap3</code></span><br /><code>sudo lxc-snapshot -n afns1 -d snap4</code><span><code>    </code></span><span><code>   Delete snap4 which is essentially the same as snap3</code></span><br /><code>sudo lxc-start -n afns1</code><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>   Start LXC containerized DNS-DHCP container</code></span><br /><code>sudo service systemd-resolved restart</code><span><code>    </code></span><code> Clear the DNS cache of systemd-resolved</code><br /><code>nslookup oel76c12</code><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><span><code>    </code></span><code> Verify DNS lookup fails (record no longer exists in zone file)</code></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/documentation/configuration/dns-dhcp-snapshots&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="../../../../site.html">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/documentation/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXsYkggvpp-F8LCXLIRVA-HolVeJaDfPZB-n5G7e8QX0_YzR5MWp7WKET6W0O7cmUx3lSrfeaRuz6QJgge9MxdVC4MoCxTJeJSFtn4kqXjKVnBIkkpAQdDXl4TfcuUGIabTWDYuYGiy7MIR_Gc6G8iBUT_3uDA/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/documentation/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
